{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _MapperRegistry = _interopRequireDefault(require(\"./MapperRegistry\"));\n\nvar _MutableValue = _interopRequireDefault(require(\"./MutableValue\"));\n\nvar _Mapper = _interopRequireDefault(require(\"./Mapper\"));\n\nvar JSReanimated = function () {\n  function JSReanimated() {\n    (0, _classCallCheck2.default)(this, JSReanimated);\n    this.native = false;\n    this._valueSetter = undefined;\n    this._renderRequested = false;\n    this._mapperRegistry = new _MapperRegistry.default(this);\n    this._frames = [];\n  }\n\n  (0, _createClass2.default)(JSReanimated, [{\n    key: \"pushFrame\",\n    value: function pushFrame(frame) {\n      this._frames.push(frame);\n\n      this.maybeRequestRender();\n    }\n  }, {\n    key: \"maybeRequestRender\",\n    value: function maybeRequestRender() {\n      var _this = this;\n\n      if (!this._renderRequested) {\n        this._renderRequested = true;\n        requestAnimationFrame(function (timestampMs) {\n          _this._renderRequested = false;\n\n          _this._onRender(timestampMs);\n        });\n      }\n    }\n  }, {\n    key: \"_onRender\",\n    value: function _onRender(timestampMs) {\n      this._mapperRegistry.execute();\n\n      var frames = (0, _toConsumableArray2.default)(this._frames);\n      this._frames = [];\n\n      for (var i = 0, len = frames.length; i < len; ++i) {\n        frames[i](timestampMs);\n      }\n\n      if (this._mapperRegistry.needRunOnRender) {\n        this._mapperRegistry.execute();\n      }\n    }\n  }, {\n    key: \"installCoreFunctions\",\n    value: function installCoreFunctions(valueSetter) {\n      this._valueSetter = valueSetter;\n    }\n  }, {\n    key: \"makeShareable\",\n    value: function makeShareable(value) {\n      return value;\n    }\n  }, {\n    key: \"makeMutable\",\n    value: function makeMutable(value) {\n      return new _MutableValue.default(value, this._valueSetter);\n    }\n  }, {\n    key: \"makeRemote\",\n    value: function makeRemote(object) {\n      return object;\n    }\n  }, {\n    key: \"startMapper\",\n    value: function startMapper(mapper) {\n      var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var outputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var instance = new _Mapper.default(this, mapper, inputs, outputs);\n\n      var mapperId = this._mapperRegistry.startMapper(instance);\n\n      this.maybeRequestRender();\n      return mapperId;\n    }\n  }, {\n    key: \"stopMapper\",\n    value: function stopMapper(mapperId) {\n      this._mapperRegistry.stopMapper(mapperId);\n    }\n  }, {\n    key: \"registerEventHandler\",\n    value: function registerEventHandler(eventHash, eventHandler) {}\n  }, {\n    key: \"unregisterEventHandler\",\n    value: function unregisterEventHandler(registrationId) {}\n  }]);\n  return JSReanimated;\n}();\n\nexports.default = JSReanimated;","map":{"version":3,"sources":["D:/Programming/React Native/drinkUp/node_modules/react-native-reanimated/src/reanimated2/js-reanimated/JSReanimated.js"],"names":["JSReanimated","native","_valueSetter","undefined","_renderRequested","_mapperRegistry","MapperRegistry","_frames","frame","push","maybeRequestRender","requestAnimationFrame","timestampMs","_onRender","execute","frames","i","len","length","needRunOnRender","valueSetter","value","MutableValue","object","mapper","inputs","outputs","instance","Mapper","mapperId","startMapper","stopMapper","eventHash","eventHandler","registrationId"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;IAEqBA,Y;;;SACnBC,M,GAAS,K;SACTC,Y,GAAeC,S;SACfC,gB,GAAmB,K;SACnBC,e,GAAkB,IAAIC,uBAAJ,CAAmB,IAAnB,C;SAClBC,O,GAAU,E;;;;;8BAEAC,K,EAAO;AACf,WAAKD,OAAL,CAAaE,IAAb,CAAkBD,KAAlB;;AAEA,WAAKE,kBAAL;AACD;;;yCAEoB;AAAA;;AACnB,UAAI,CAAC,KAAKN,gBAAV,EAA4B;AAC1B,aAAKA,gBAAL,GAAwB,IAAxB;AAEAO,QAAAA,qBAAqB,CAAC,UAACC,WAAD,EAAiB;AACrC,UAAA,KAAI,CAACR,gBAAL,GAAwB,KAAxB;;AAEA,UAAA,KAAI,CAACS,SAAL,CAAeD,WAAf;AACD,SAJoB,CAArB;AAKD;AACF;;;8BAESA,W,EAAa;AACrB,WAAKP,eAAL,CAAqBS,OAArB;;AAEA,UAAMC,MAAM,oCAAO,KAAKR,OAAZ,CAAZ;AACA,WAAKA,OAAL,GAAe,EAAf;;AAEA,WAAK,IAAIS,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGF,MAAM,CAACG,MAA7B,EAAqCF,CAAC,GAAGC,GAAzC,EAA8C,EAAED,CAAhD,EAAmD;AACjDD,QAAAA,MAAM,CAACC,CAAD,CAAN,CAAUJ,WAAV;AACD;;AAED,UAAI,KAAKP,eAAL,CAAqBc,eAAzB,EAA0C;AACxC,aAAKd,eAAL,CAAqBS,OAArB;AACD;AACF;;;yCAEoBM,W,EAAa;AAChC,WAAKlB,YAAL,GAAoBkB,WAApB;AACD;;;kCAEaC,K,EAAO;AACnB,aAAOA,KAAP;AACD;;;gCAEWA,K,EAAO;AACjB,aAAO,IAAIC,qBAAJ,CAAiBD,KAAjB,EAAwB,KAAKnB,YAA7B,CAAP;AACD;;;+BAEUqB,M,EAAQ;AACjB,aAAOA,MAAP;AACD;;;gCAEWC,M,EAAmC;AAAA,UAA3BC,MAA2B,uEAAlB,EAAkB;AAAA,UAAdC,OAAc,uEAAJ,EAAI;AAC7C,UAAMC,QAAQ,GAAG,IAAIC,eAAJ,CAAW,IAAX,EAAiBJ,MAAjB,EAAyBC,MAAzB,EAAiCC,OAAjC,CAAjB;;AACA,UAAMG,QAAQ,GAAG,KAAKxB,eAAL,CAAqByB,WAArB,CAAiCH,QAAjC,CAAjB;;AACA,WAAKjB,kBAAL;AACA,aAAOmB,QAAP;AACD;;;+BAEUA,Q,EAAU;AACnB,WAAKxB,eAAL,CAAqB0B,UAArB,CAAgCF,QAAhC;AACD;;;yCAEoBG,S,EAAWC,Y,EAAc,CAAE;;;2CAEzBC,c,EAAgB,CAAE","sourcesContent":["import MapperRegistry from './MapperRegistry';\nimport MutableValue from './MutableValue';\nimport Mapper from './Mapper';\n\nexport default class JSReanimated {\n  native = false;\n  _valueSetter = undefined;\n  _renderRequested = false;\n  _mapperRegistry = new MapperRegistry(this);\n  _frames = [];\n\n  pushFrame(frame) {\n    this._frames.push(frame);\n\n    this.maybeRequestRender();\n  }\n\n  maybeRequestRender() {\n    if (!this._renderRequested) {\n      this._renderRequested = true;\n\n      requestAnimationFrame((timestampMs) => {\n        this._renderRequested = false;\n\n        this._onRender(timestampMs);\n      });\n    }\n  }\n\n  _onRender(timestampMs) {\n    this._mapperRegistry.execute();\n\n    const frames = [...this._frames];\n    this._frames = [];\n\n    for (let i = 0, len = frames.length; i < len; ++i) {\n      frames[i](timestampMs);\n    }\n\n    if (this._mapperRegistry.needRunOnRender) {\n      this._mapperRegistry.execute();\n    }\n  }\n\n  installCoreFunctions(valueSetter) {\n    this._valueSetter = valueSetter;\n  }\n\n  makeShareable(value) {\n    return value;\n  }\n\n  makeMutable(value) {\n    return new MutableValue(value, this._valueSetter);\n  }\n\n  makeRemote(object) {\n    return object;\n  }\n\n  startMapper(mapper, inputs = [], outputs = []) {\n    const instance = new Mapper(this, mapper, inputs, outputs);\n    const mapperId = this._mapperRegistry.startMapper(instance);\n    this.maybeRequestRender();\n    return mapperId;\n  }\n\n  stopMapper(mapperId) {\n    this._mapperRegistry.stopMapper(mapperId);\n  }\n\n  registerEventHandler(eventHash, eventHandler) {}\n\n  unregisterEventHandler(registrationId) {}\n}\n"]},"metadata":{},"sourceType":"script"}