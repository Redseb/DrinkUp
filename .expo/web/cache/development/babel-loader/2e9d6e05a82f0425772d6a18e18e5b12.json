{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixColor = exports.interpolateColor = exports.colorForBackground = exports.hsv2color = exports.hsv2rgb = exports.blue = exports.green = exports.red = exports.opacity = void 0;\n\nvar _reactNativeReanimated = _interopRequireDefault(require(\"react-native-reanimated\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _interpolate = _interopRequireWildcard(require(\"react-native-reanimated/src/derived/interpolate\"));\n\nvar _Animations = require(\"./Animations\");\n\nvar _Math = require(\"./Math\");\n\nvar add = _reactNativeReanimated.default.add,\n    multiply = _reactNativeReanimated.default.multiply,\n    abs = _reactNativeReanimated.default.abs,\n    round = _reactNativeReanimated.default.round,\n    sub = _reactNativeReanimated.default.sub,\n    proc = _reactNativeReanimated.default.proc,\n    color = _reactNativeReanimated.default.color,\n    greaterThan = _reactNativeReanimated.default.greaterThan,\n    cond = _reactNativeReanimated.default.cond;\n\nvar opacity = function opacity(c) {\n  return (c >> 24 & 255) / 255;\n};\n\nexports.opacity = opacity;\n\nvar red = function red(c) {\n  return c >> 16 & 255;\n};\n\nexports.red = red;\n\nvar green = function green(c) {\n  return c >> 8 & 255;\n};\n\nexports.green = green;\n\nvar blue = function blue(c) {\n  return c & 255;\n};\n\nexports.blue = blue;\n\nvar hsv2rgb = function hsv2rgb(h, s, v) {\n  var K = {\n    x: 1,\n    y: 2 / 3,\n    z: 1 / 3,\n    w: 3\n  };\n  var p = {\n    x: abs(sub(multiply((0, _Math.fract)(add(h, K.x)), 6), K.w)),\n    y: abs(sub(multiply((0, _Math.fract)(add(h, K.y)), 6), K.w)),\n    z: abs(sub(multiply((0, _Math.fract)(add(h, K.z)), 6), K.w))\n  };\n  var rgb = {\n    x: multiply(v, (0, _Animations.mix)(s, K.x, (0, _Math.clamp)(sub(p.x, K.x), 0, 1))),\n    y: multiply(v, (0, _Animations.mix)(s, K.x, (0, _Math.clamp)(sub(p.y, K.x), 0, 1))),\n    z: multiply(v, (0, _Animations.mix)(s, K.x, (0, _Math.clamp)(sub(p.z, K.x), 0, 1)))\n  };\n  return {\n    r: round(multiply(rgb.x, 255)),\n    g: round(multiply(rgb.y, 255)),\n    b: round(multiply(rgb.z, 255))\n  };\n};\n\nexports.hsv2rgb = hsv2rgb;\nvar hsv2color = proc(function (h, s, v) {\n  var _hsv2rgb = hsv2rgb(h, s, v),\n      r = _hsv2rgb.r,\n      g = _hsv2rgb.g,\n      b = _hsv2rgb.b;\n\n  return color(r, g, b);\n});\nexports.hsv2color = hsv2color;\nvar colorForBackground = proc(function (r, g, b) {\n  var L = add(multiply(0.299, r), multiply(0.587, g), multiply(0.114, b));\n  return cond(greaterThan(L, 186), color(0, 0, 0), color(255, 255, 255));\n});\nexports.colorForBackground = colorForBackground;\n\nvar rgbToHsv = function rgbToHsv(c) {\n  var r = red(c) / 255;\n  var g = green(c) / 255;\n  var b = blue(c) / 255;\n  var ma = Math.max(r, g, b);\n  var mi = Math.min(r, g, b);\n  var h = 0;\n  var v = ma;\n  var d = ma - mi;\n  var s = ma === 0 ? 0 : d / ma;\n\n  if (ma === mi) {\n    h = 0;\n  } else {\n    switch (ma) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n\n      case g:\n        h = (b - r) / d + 2;\n        break;\n\n      case b:\n        h = (r - g) / d + 4;\n        break;\n\n      default:\n    }\n\n    h /= 6;\n  }\n\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n};\n\nvar interpolateColorsHSV = function interpolateColorsHSV(animationValue, inputRange, colors) {\n  var colorsAsHSV = colors.map(function (c) {\n    return rgbToHsv(c);\n  });\n  var h = (0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colorsAsHSV.map(function (c) {\n      return c.h;\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  });\n  var s = (0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colorsAsHSV.map(function (c) {\n      return c.s;\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  });\n  var v = (0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colorsAsHSV.map(function (c) {\n      return c.v;\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  });\n  return hsv2color(h, s, v);\n};\n\nvar interpolateColorsRGB = function interpolateColorsRGB(animationValue, inputRange, colors) {\n  var r = round((0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return red(c);\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  }));\n  var g = round((0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return green(c);\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  }));\n  var b = round((0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return blue(c);\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  }));\n  var a = (0, _interpolate.default)(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return opacity(c);\n    }),\n    extrapolate: _interpolate.Extrapolate.CLAMP\n  });\n  return color(r, g, b, a);\n};\n\nvar interpolateColor = function interpolateColor(value, config) {\n  var colorSpace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"rgb\";\n  var inputRange = config.inputRange;\n  var outputRange = config.outputRange.map(function (c) {\n    return typeof c === \"number\" ? c : (0, _reactNative.processColor)(c);\n  });\n\n  if (colorSpace === \"hsv\") {\n    return interpolateColorsHSV(value, inputRange, outputRange);\n  }\n\n  return interpolateColorsRGB(value, inputRange, outputRange);\n};\n\nexports.interpolateColor = interpolateColor;\n\nvar mixColor = function mixColor(value, color1, color2) {\n  var colorSpace = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"rgb\";\n  return interpolateColor(value, {\n    inputRange: [0, 1],\n    outputRange: [color1, color2]\n  }, colorSpace);\n};\n\nexports.mixColor = mixColor;","map":{"version":3,"sources":["Colors.ts"],"names":["add","multiply","abs","round","sub","proc","color","greaterThan","cond","Animated","opacity","c","red","green","blue","hsv2rgb","K","x","y","z","w","p","fract","rgb","mix","clamp","r","g","b","hsv2color","colorForBackground","L","rgbToHsv","ma","Math","mi","h","v","d","s","interpolateColorsHSV","colorsAsHSV","colors","interpolateNode","inputRange","outputRange","extrapolate","Extrapolate","interpolateColorsRGB","a","interpolateColor","colorSpace","config","processColor","mixColor"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\nimport { processColor } from \"react-native\";\nimport interpolateNode, {\n  Extrapolate,\n} from \"react-native-reanimated/src/derived/interpolate\";\n\nimport { mix } from \"./Animations\";\nimport { clamp, fract } from \"./Math\";\n\nconst {\n  add,\n  multiply,\n  abs,\n  round,\n  sub,\n  proc,\n  color,\n  greaterThan,\n  cond,\n} = Animated;\n\n// type Color = Animated.Adaptable<string> | Animated.Adaptable<number>;\ntype StaticColor = string | number;\n\nexport const opacity = (c: number) => ((c >> 24) & 255) / 255;\nexport const red = (c: number) => (c >> 16) & 255;\nexport const green = (c: number) => (c >> 8) & 255;\nexport const blue = (c: number) => c & 255;\n\nexport const hsv2rgb = (\n  h: Animated.Adaptable<number>,\n  s: Animated.Adaptable<number>,\n  v: Animated.Adaptable<number>\n) => {\n  // vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  const K = {\n    x: 1,\n    y: 2 / 3,\n    z: 1 / 3,\n    w: 3,\n  };\n  // vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  const p = {\n    x: abs(sub(multiply(fract(add(h, K.x)), 6), K.w)),\n    y: abs(sub(multiply(fract(add(h, K.y)), 6), K.w)),\n    z: abs(sub(multiply(fract(add(h, K.z)), 6), K.w)),\n  };\n  // return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n  const rgb = {\n    x: multiply(v, mix(s, K.x, clamp(sub(p.x, K.x), 0, 1))),\n    y: multiply(v, mix(s, K.x, clamp(sub(p.y, K.x), 0, 1))),\n    z: multiply(v, mix(s, K.x, clamp(sub(p.z, K.x), 0, 1))),\n  };\n  return {\n    r: round(multiply(rgb.x, 255)),\n    g: round(multiply(rgb.y, 255)),\n    b: round(multiply(rgb.z, 255)),\n  };\n};\n\nexport const hsv2color = proc(\n  (\n    h: Animated.Adaptable<number>,\n    s: Animated.Adaptable<number>,\n    v: Animated.Adaptable<number>\n  ) => {\n    const { r, g, b } = hsv2rgb(h, s, v);\n    return color(r, g, b);\n  }\n);\n\nexport const colorForBackground = proc(\n  (\n    r: Animated.Adaptable<number>,\n    g: Animated.Adaptable<number>,\n    b: Animated.Adaptable<number>\n  ) => {\n    const L = add(multiply(0.299, r), multiply(0.587, g), multiply(0.114, b));\n    return cond(greaterThan(L, 186), color(0, 0, 0), color(255, 255, 255));\n  }\n);\n\nconst rgbToHsv = (c: number) => {\n  const r = red(c) / 255;\n  const g = green(c) / 255;\n  const b = blue(c) / 255;\n\n  const ma = Math.max(r, g, b);\n  const mi = Math.min(r, g, b);\n  let h = 0;\n  const v = ma;\n\n  const d = ma - mi;\n  const s = ma === 0 ? 0 : d / ma;\n  if (ma === mi) {\n    h = 0; // achromatic\n  } else {\n    switch (ma) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n      default: // do nothing\n    }\n    h /= 6;\n  }\n  return { h, s, v };\n};\n\nconst interpolateColorsHSV = (\n  animationValue: Animated.Adaptable<number>,\n  inputRange: readonly Animated.Adaptable<number>[],\n  colors: number[]\n): Animated.Node<number> => {\n  const colorsAsHSV = colors.map((c) => rgbToHsv(c));\n  const h = interpolateNode(animationValue, {\n    inputRange,\n    outputRange: colorsAsHSV.map((c) => c.h),\n    extrapolate: Extrapolate.CLAMP,\n  });\n  const s = interpolateNode(animationValue, {\n    inputRange,\n    outputRange: colorsAsHSV.map((c) => c.s),\n    extrapolate: Extrapolate.CLAMP,\n  });\n  const v = interpolateNode(animationValue, {\n    inputRange,\n    outputRange: colorsAsHSV.map((c) => c.v),\n    extrapolate: Extrapolate.CLAMP,\n  });\n  return hsv2color(h, s, v);\n};\n\nconst interpolateColorsRGB = (\n  animationValue: Animated.Adaptable<number>,\n  inputRange: readonly Animated.Adaptable<number>[],\n  colors: number[]\n) => {\n  const r = round(\n    interpolateNode(animationValue, {\n      inputRange,\n      outputRange: colors.map((c) => red(c)),\n      extrapolate: Extrapolate.CLAMP,\n    })\n  );\n  const g = round(\n    interpolateNode(animationValue, {\n      inputRange,\n      outputRange: colors.map((c) => green(c)),\n      extrapolate: Extrapolate.CLAMP,\n    })\n  );\n  const b = round(\n    interpolateNode(animationValue, {\n      inputRange,\n      outputRange: colors.map((c) => blue(c)),\n      extrapolate: Extrapolate.CLAMP,\n    })\n  );\n  const a = interpolateNode(animationValue, {\n    inputRange,\n    outputRange: colors.map((c) => opacity(c)),\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  return color(r, g, b, a);\n};\n\ninterface ColorInterpolationConfig {\n  inputRange: readonly Animated.Adaptable<number>[];\n  outputRange: StaticColor[];\n}\n\nexport const interpolateColor = (\n  value: Animated.Adaptable<number>,\n  config: ColorInterpolationConfig,\n  colorSpace: \"hsv\" | \"rgb\" = \"rgb\"\n): Animated.Node<number> => {\n  const { inputRange } = config;\n  const outputRange = config.outputRange.map((c) =>\n    typeof c === \"number\" ? c : (processColor(c) as number)\n  );\n  if (colorSpace === \"hsv\") {\n    return interpolateColorsHSV(value, inputRange, outputRange);\n  }\n  return interpolateColorsRGB(value, inputRange, outputRange);\n};\n\nexport const mixColor = (\n  value: Animated.Adaptable<number>,\n  color1: StaticColor,\n  color2: StaticColor,\n  colorSpace: \"hsv\" | \"rgb\" = \"rgb\"\n) =>\n  interpolateColor(\n    value,\n    {\n      inputRange: [0, 1],\n      outputRange: [color1, color2],\n    },\n    colorSpace\n  );\n"]},"metadata":{},"sourceType":"script"}