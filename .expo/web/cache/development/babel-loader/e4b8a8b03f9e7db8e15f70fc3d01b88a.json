{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runOnUI = runOnUI;\nexports.makeShareable = makeShareable;\nexports.getViewProp = getViewProp;\nexports.makeMutable = makeMutable;\nexports.makeRemote = makeRemote;\nexports.startMapper = startMapper;\nexports.stopMapper = stopMapper;\nexports.requestFrame = void 0;\n\nvar _NativeReanimated = _interopRequireDefault(require(\"./NativeReanimated\"));\n\nglobal.__reanimatedWorkletInit = function (worklet) {\n  worklet.__worklet = true;\n};\n\nfunction pushFrame(frame) {\n  _NativeReanimated.default.pushFrame(frame);\n}\n\nvar requestFrame = function () {\n  var _f = function _f(frame) {\n    if (_NativeReanimated.default.native) {\n      requestAnimationFrame(frame);\n    } else {\n      pushFrame(frame);\n    }\n  };\n\n  _f._closure = {\n    NativeReanimated: {\n      native: _NativeReanimated.default.native\n    },\n    pushFrame: pushFrame\n  };\n  _f.asString = \"function requestFrame(frame){const{NativeReanimated,pushFrame}=jsThis._closure;{if(NativeReanimated.native){requestAnimationFrame(frame);}else{pushFrame(frame);}}}\";\n  _f.__workletHash = 14837003045671;\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nexports.requestFrame = requestFrame;\nglobal._WORKLET = false;\n\nglobal._log = function (s) {\n  console.log(s);\n};\n\nfunction runOnUI(worklet) {\n  return makeShareable(worklet);\n}\n\nfunction makeShareable(value) {\n  return _NativeReanimated.default.makeShareable(value);\n}\n\nfunction getViewProp(viewTag, propName) {\n  return new Promise(function (resolve, reject) {\n    return _NativeReanimated.default.getViewProp(viewTag, propName, function (result) {\n      if (result.substr(0, 6) === 'error:') {\n        reject(result);\n      } else {\n        resolve(result);\n      }\n    });\n  });\n}\n\nvar workletValueSetter = function () {\n  var _f = function _f(value) {\n    var _this = this;\n\n    var previousAnimation = this._animation;\n\n    if (previousAnimation) {\n      previousAnimation.cancelled = true;\n      this._animation = null;\n    }\n\n    if (typeof value === 'function' || value !== null && typeof value === 'object' && value.animation) {\n      var animation = typeof value === 'function' ? value() : value;\n\n      var callStart = function callStart(timestamp) {\n        animation.start(animation, _this.value, timestamp, previousAnimation);\n      };\n\n      var step = function step(timestamp) {\n        if (animation.cancelled) {\n          animation.callback && animation.callback(false);\n          return;\n        }\n\n        if (callStart) {\n          callStart(timestamp);\n          callStart = null;\n        }\n\n        var finished = animation.animation(animation, timestamp);\n        animation.timestamp = timestamp;\n        _this._value = animation.current;\n\n        if (finished) {\n          animation.callback && animation.callback(true);\n        } else {\n          requestAnimationFrame(step);\n        }\n      };\n\n      this._animation = animation;\n      requestAnimationFrame(step);\n    } else {\n      this._value = value;\n    }\n  };\n\n  _f._closure = {};\n  _f.asString = \"function workletValueSetter(value){var _this=this;var previousAnimation=this._animation;if(previousAnimation){previousAnimation.cancelled=true;this._animation=null;}if(typeof value==='function'||value!==null&&typeof value==='object'&&value.animation){var animation=typeof value==='function'?value():value;var callStart=function callStart(timestamp){animation.start(animation,_this.value,timestamp,previousAnimation);};var step=function step(timestamp){if(animation.cancelled){animation.callback&&animation.callback(false);return;}if(callStart){callStart(timestamp);callStart=null;}var finished=animation.animation(animation,timestamp);animation.timestamp=timestamp;_this._value=animation.current;if(finished){animation.callback&&animation.callback(true);}else{requestAnimationFrame(step);}};this._animation=animation;requestAnimationFrame(step);}else{this._value=value;}}\";\n  _f.__workletHash = 15476690870907;\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nfunction workletValueSetterJS(value) {\n  var _this2 = this;\n\n  var previousAnimation = this._animation;\n\n  if (previousAnimation) {\n    previousAnimation.cancelled = true;\n    this._animation = null;\n  }\n\n  if (typeof value === 'function' || value !== null && typeof value === 'object' && value.animation) {\n    var animation = typeof value === 'function' ? value() : value;\n\n    var callStart = function callStart(timestamp) {\n      animation.start(animation, _this2.value, timestamp, previousAnimation);\n    };\n\n    var step = function step(timestamp) {\n      if (animation.cancelled) {\n        animation.callback && animation.callback(false);\n        return;\n      }\n\n      if (callStart) {\n        callStart(timestamp);\n        callStart = null;\n      }\n\n      var finished = animation.animation(animation, timestamp);\n      animation.timestamp = timestamp;\n\n      _this2._setValue(animation.current);\n\n      if (finished) {\n        animation.callback && animation.callback(true);\n      } else {\n        requestFrame(step);\n      }\n    };\n\n    this._animation = animation;\n    requestFrame(step);\n  } else {\n    this._setValue(value);\n  }\n}\n\n_NativeReanimated.default.installCoreFunctions(_NativeReanimated.default.native ? workletValueSetter : workletValueSetterJS);\n\nfunction makeMutable(value) {\n  return _NativeReanimated.default.makeMutable(value);\n}\n\nfunction makeRemote() {\n  var object = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return _NativeReanimated.default.makeRemote(object);\n}\n\nfunction startMapper(mapper) {\n  var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var outputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  return _NativeReanimated.default.startMapper(mapper, inputs, outputs);\n}\n\nfunction stopMapper(mapperId) {\n  _NativeReanimated.default.stopMapper(mapperId);\n}","map":{"version":3,"sources":["D:/Programming/React Native/drinkUp/node_modules/react-native-reanimated/src/reanimated2/core.js"],"names":["global","__reanimatedWorkletInit","worklet","__worklet","pushFrame","frame","NativeReanimated","requestFrame","native","requestAnimationFrame","_WORKLET","_log","s","console","log","runOnUI","makeShareable","value","getViewProp","viewTag","propName","Promise","resolve","reject","result","substr","workletValueSetter","previousAnimation","_animation","cancelled","animation","callStart","timestamp","start","step","callback","finished","_value","current","workletValueSetterJS","_setValue","installCoreFunctions","makeMutable","makeRemote","object","startMapper","mapper","inputs","outputs","stopMapper","mapperId"],"mappings":";;;;;;;;;;;;;;AAAA;;AAEAA,MAAM,CAACC,uBAAP,GAAiC,UAASC,OAAT,EAAkB;AACjDA,EAAAA,OAAO,CAACC,SAAR,GAAoB,IAApB;AACD,CAFD;;AAIA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxBC,4BAAiBF,SAAjB,CAA2BC,KAA3B;AACD;;IAEeE,Y;uBAAaF,K,EAAO;AAGlC,QAAIC,0BAAiBE,MAArB,EAA6B;AAC3BC,MAAAA,qBAAqB,CAACJ,KAAD,CAArB;AACD,KAFD,MAEO;AACLD,MAAAA,SAAS,CAACC,KAAD,CAAT;AACD;AACF,G;;;;cAdKC,0BAAiBE;;eAGnBJ;;;;;;;;;;;AAaJJ,MAAM,CAACU,QAAP,GAAkB,KAAlB;;AACAV,MAAM,CAACW,IAAP,GAAc,UAASC,CAAT,EAAY;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD,CAFD;;AAIO,SAASG,OAAT,CAAiBb,OAAjB,EAA0B;AAC/B,SAAOc,aAAa,CAACd,OAAD,CAApB;AACD;;AAEM,SAASc,aAAT,CAAuBC,KAAvB,EAA8B;AACnC,SAAOX,0BAAiBU,aAAjB,CAA+BC,KAA/B,CAAP;AACD;;AAEM,SAASC,WAAT,CAAqBC,OAArB,EAA8BC,QAA9B,EAAwC;AAC7C,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,WAAOjB,0BAAiBY,WAAjB,CAA6BC,OAA7B,EAAsCC,QAAtC,EAAgD,UAACI,MAAD,EAAY;AACjE,UAAIA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiB,CAAjB,MAAwB,QAA5B,EAAsC;AACpCF,QAAAA,MAAM,CAACC,MAAD,CAAN;AACD,OAFD,MAEO;AACLF,QAAAA,OAAO,CAACE,MAAD,CAAP;AACD;AACF,KANM,CAAP;AAOD,GARM,CAAP;AASD;;IAEQE,kB;uBAAmBT,K,EAAO;AAAA;;AAGjC,QAAMU,iBAAiB,GAAG,KAAKC,UAA/B;;AACA,QAAID,iBAAJ,EAAuB;AACrBA,MAAAA,iBAAiB,CAACE,SAAlB,GAA8B,IAA9B;AACA,WAAKD,UAAL,GAAkB,IAAlB;AACD;;AACD,QACE,OAAOX,KAAP,KAAiB,UAAjB,IACCA,KAAK,KAAK,IAAV,IAAkB,OAAOA,KAAP,KAAiB,QAAnC,IAA+CA,KAAK,CAACa,SAFxD,EAGE;AAEA,UAAMA,SAAS,GAAG,OAAOb,KAAP,KAAiB,UAAjB,GAA8BA,KAAK,EAAnC,GAAwCA,KAA1D;;AACA,UAAIc,SAAS,GAAG,mBAACC,SAAD,EAAe;AAC7BF,QAAAA,SAAS,CAACG,KAAV,CAAgBH,SAAhB,EAA2B,KAAI,CAACb,KAAhC,EAAuCe,SAAvC,EAAkDL,iBAAlD;AACD,OAFD;;AAGA,UAAMO,IAAI,GAAG,SAAPA,IAAO,CAACF,SAAD,EAAe;AAC1B,YAAIF,SAAS,CAACD,SAAd,EAAyB;AACvBC,UAAAA,SAAS,CAACK,QAAV,IAAsBL,SAAS,CAACK,QAAV,CAAmB,KAAnB,CAAtB;AACA;AACD;;AACD,YAAIJ,SAAJ,EAAe;AACbA,UAAAA,SAAS,CAACC,SAAD,CAAT;AACAD,UAAAA,SAAS,GAAG,IAAZ;AACD;;AACD,YAAMK,QAAQ,GAAGN,SAAS,CAACA,SAAV,CAAoBA,SAApB,EAA+BE,SAA/B,CAAjB;AACAF,QAAAA,SAAS,CAACE,SAAV,GAAsBA,SAAtB;AACA,QAAA,KAAI,CAACK,MAAL,GAAcP,SAAS,CAACQ,OAAxB;;AACA,YAAIF,QAAJ,EAAc;AACZN,UAAAA,SAAS,CAACK,QAAV,IAAsBL,SAAS,CAACK,QAAV,CAAmB,IAAnB,CAAtB;AACD,SAFD,MAEO;AACL1B,UAAAA,qBAAqB,CAACyB,IAAD,CAArB;AACD;AACF,OAjBD;;AAmBA,WAAKN,UAAL,GAAkBE,SAAlB;AAEArB,MAAAA,qBAAqB,CAACyB,IAAD,CAArB;AACD,KA/BD,MA+BO;AACL,WAAKG,MAAL,GAAcpB,KAAd;AACD;AACF,G;;;;;;;;;;;AAID,SAASsB,oBAAT,CAA8BtB,KAA9B,EAAqC;AAAA;;AACnC,MAAMU,iBAAiB,GAAG,KAAKC,UAA/B;;AACA,MAAID,iBAAJ,EAAuB;AACrBA,IAAAA,iBAAiB,CAACE,SAAlB,GAA8B,IAA9B;AACA,SAAKD,UAAL,GAAkB,IAAlB;AACD;;AACD,MACE,OAAOX,KAAP,KAAiB,UAAjB,IACCA,KAAK,KAAK,IAAV,IAAkB,OAAOA,KAAP,KAAiB,QAAnC,IAA+CA,KAAK,CAACa,SAFxD,EAGE;AAEA,QAAMA,SAAS,GAAG,OAAOb,KAAP,KAAiB,UAAjB,GAA8BA,KAAK,EAAnC,GAAwCA,KAA1D;;AACA,QAAIc,SAAS,GAAG,mBAACC,SAAD,EAAe;AAC7BF,MAAAA,SAAS,CAACG,KAAV,CAAgBH,SAAhB,EAA2B,MAAI,CAACb,KAAhC,EAAuCe,SAAvC,EAAkDL,iBAAlD;AACD,KAFD;;AAGA,QAAMO,IAAI,GAAG,SAAPA,IAAO,CAACF,SAAD,EAAe;AAC1B,UAAIF,SAAS,CAACD,SAAd,EAAyB;AACvBC,QAAAA,SAAS,CAACK,QAAV,IAAsBL,SAAS,CAACK,QAAV,CAAmB,KAAnB,CAAtB;AACA;AACD;;AACD,UAAIJ,SAAJ,EAAe;AACbA,QAAAA,SAAS,CAACC,SAAD,CAAT;AACAD,QAAAA,SAAS,GAAG,IAAZ;AACD;;AACD,UAAMK,QAAQ,GAAGN,SAAS,CAACA,SAAV,CAAoBA,SAApB,EAA+BE,SAA/B,CAAjB;AACAF,MAAAA,SAAS,CAACE,SAAV,GAAsBA,SAAtB;;AACA,MAAA,MAAI,CAACQ,SAAL,CAAeV,SAAS,CAACQ,OAAzB;;AACA,UAAIF,QAAJ,EAAc;AACZN,QAAAA,SAAS,CAACK,QAAV,IAAsBL,SAAS,CAACK,QAAV,CAAmB,IAAnB,CAAtB;AACD,OAFD,MAEO;AACL5B,QAAAA,YAAY,CAAC2B,IAAD,CAAZ;AACD;AACF,KAjBD;;AAmBA,SAAKN,UAAL,GAAkBE,SAAlB;AAEAvB,IAAAA,YAAY,CAAC2B,IAAD,CAAZ;AACD,GA/BD,MA+BO;AACL,SAAKM,SAAL,CAAevB,KAAf;AACD;AACF;;AAEDX,0BAAiBmC,oBAAjB,CACEnC,0BAAiBE,MAAjB,GAA0BkB,kBAA1B,GAA+Ca,oBADjD;;AAIO,SAASG,WAAT,CAAqBzB,KAArB,EAA4B;AACjC,SAAOX,0BAAiBoC,WAAjB,CAA6BzB,KAA7B,CAAP;AACD;;AAEM,SAAS0B,UAAT,GAAiC;AAAA,MAAbC,MAAa,uEAAJ,EAAI;AACtC,SAAOtC,0BAAiBqC,UAAjB,CAA4BC,MAA5B,CAAP;AACD;;AAEM,SAASC,WAAT,CAAqBC,MAArB,EAAwD;AAAA,MAA3BC,MAA2B,uEAAlB,EAAkB;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAC7D,SAAO1C,0BAAiBuC,WAAjB,CAA6BC,MAA7B,EAAqCC,MAArC,EAA6CC,OAA7C,CAAP;AACD;;AAEM,SAASC,UAAT,CAAoBC,QAApB,EAA8B;AACnC5C,4BAAiB2C,UAAjB,CAA4BC,QAA5B;AACD","sourcesContent":["import NativeReanimated from './NativeReanimated';\n\nglobal.__reanimatedWorkletInit = function(worklet) {\n  worklet.__worklet = true;\n};\n\nfunction pushFrame(frame) {\n  NativeReanimated.pushFrame(frame);\n}\n\nexport function requestFrame(frame) {\n  'worklet';\n\n  if (NativeReanimated.native) {\n    requestAnimationFrame(frame);\n  } else {\n    pushFrame(frame);\n  }\n}\n\nglobal._WORKLET = false;\nglobal._log = function(s) {\n  console.log(s);\n};\n\nexport function runOnUI(worklet) {\n  return makeShareable(worklet);\n}\n\nexport function makeShareable(value) {\n  return NativeReanimated.makeShareable(value);\n}\n\nexport function getViewProp(viewTag, propName) {\n  return new Promise((resolve, reject) => {\n    return NativeReanimated.getViewProp(viewTag, propName, (result) => {\n      if (result.substr(0, 6) === 'error:') {\n        reject(result);\n      } else {\n        resolve(result);\n      }\n    });\n  });\n}\n\nfunction workletValueSetter(value) {\n  'worklet';\n\n  const previousAnimation = this._animation;\n  if (previousAnimation) {\n    previousAnimation.cancelled = true;\n    this._animation = null;\n  }\n  if (\n    typeof value === 'function' ||\n    (value !== null && typeof value === 'object' && value.animation)\n  ) {\n    // animated set\n    const animation = typeof value === 'function' ? value() : value;\n    let callStart = (timestamp) => {\n      animation.start(animation, this.value, timestamp, previousAnimation);\n    };\n    const step = (timestamp) => {\n      if (animation.cancelled) {\n        animation.callback && animation.callback(false /* finished */);\n        return;\n      }\n      if (callStart) {\n        callStart(timestamp);\n        callStart = null; // prevent closure from keeping ref to previous animation\n      }\n      const finished = animation.animation(animation, timestamp);\n      animation.timestamp = timestamp;\n      this._value = animation.current;\n      if (finished) {\n        animation.callback && animation.callback(true /* finished */);\n      } else {\n        requestAnimationFrame(step);\n      }\n    };\n\n    this._animation = animation;\n\n    requestAnimationFrame(step);\n  } else {\n    this._value = value;\n  }\n}\n\n// We cannot use pushFrame\n// so we use own implementation for js\nfunction workletValueSetterJS(value) {\n  const previousAnimation = this._animation;\n  if (previousAnimation) {\n    previousAnimation.cancelled = true;\n    this._animation = null;\n  }\n  if (\n    typeof value === 'function' ||\n    (value !== null && typeof value === 'object' && value.animation)\n  ) {\n    // animated set\n    const animation = typeof value === 'function' ? value() : value;\n    let callStart = (timestamp) => {\n      animation.start(animation, this.value, timestamp, previousAnimation);\n    };\n    const step = (timestamp) => {\n      if (animation.cancelled) {\n        animation.callback && animation.callback(false /* finished */);\n        return;\n      }\n      if (callStart) {\n        callStart(timestamp);\n        callStart = null; // prevent closure from keeping ref to previous animation\n      }\n      const finished = animation.animation(animation, timestamp);\n      animation.timestamp = timestamp;\n      this._setValue(animation.current);\n      if (finished) {\n        animation.callback && animation.callback(true /* finished */);\n      } else {\n        requestFrame(step);\n      }\n    };\n\n    this._animation = animation;\n\n    requestFrame(step);\n  } else {\n    this._setValue(value);\n  }\n}\n\nNativeReanimated.installCoreFunctions(\n  NativeReanimated.native ? workletValueSetter : workletValueSetterJS\n);\n\nexport function makeMutable(value) {\n  return NativeReanimated.makeMutable(value);\n}\n\nexport function makeRemote(object = {}) {\n  return NativeReanimated.makeRemote(object);\n}\n\nexport function startMapper(mapper, inputs = [], outputs = []) {\n  return NativeReanimated.startMapper(mapper, inputs, outputs);\n}\n\nexport function stopMapper(mapperId) {\n  NativeReanimated.stopMapper(mapperId);\n}\n"]},"metadata":{},"sourceType":"script"}