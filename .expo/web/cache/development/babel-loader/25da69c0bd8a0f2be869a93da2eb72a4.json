{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.delay = exports.spring = exports.decay = exports.timing = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _reactNativeReanimated = _interopRequireWildcard(require(\"react-native-reanimated\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar Clock = _reactNativeReanimated.default.Clock,\n    Value = _reactNativeReanimated.default.Value,\n    block = _reactNativeReanimated.default.block,\n    cond = _reactNativeReanimated.default.cond,\n    stopClock = _reactNativeReanimated.default.stopClock,\n    set = _reactNativeReanimated.default.set,\n    startClock = _reactNativeReanimated.default.startClock,\n    clockRunning = _reactNativeReanimated.default.clockRunning,\n    not = _reactNativeReanimated.default.not,\n    and = _reactNativeReanimated.default.and,\n    reTiming = _reactNativeReanimated.default.timing,\n    reDecay = _reactNativeReanimated.default.decay,\n    reSpring = _reactNativeReanimated.default.spring,\n    SpringUtils = _reactNativeReanimated.default.SpringUtils;\nvar defaultSpringConfig = SpringUtils.makeDefaultConfig();\n\nvar animate = function animate(_ref) {\n  var fn = _ref.fn,\n      clock = _ref.clock,\n      state = _ref.state,\n      config = _ref.config,\n      from = _ref.from;\n  return block([cond(not(clockRunning(clock)), [set(state.finished, 0), set(state.time, 0), set(state.position, from), startClock(clock)]), fn(clock, state, config), cond(state.finished, stopClock(clock)), state.position]);\n};\n\nvar timing = function timing(params) {\n  var _clock$duration$from$ = _objectSpread({\n    clock: new Clock(),\n    duration: 250,\n    from: 0,\n    to: 1,\n    easing: function easing(v) {\n      return (0, _reactNativeReanimated.add)(v, 0);\n    }\n  }, params),\n      clock = _clock$duration$from$.clock,\n      easing = _clock$duration$from$.easing,\n      duration = _clock$duration$from$.duration,\n      from = _clock$duration$from$.from,\n      to = _clock$duration$from$.to;\n\n  var state = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    frameTime: new Value(0)\n  };\n  var config = {\n    toValue: new Value(0),\n    duration: duration,\n    easing: easing\n  };\n  return block([cond(not(clockRunning(clock)), [set(config.toValue, to), set(state.frameTime, 0)]), animate({\n    clock: clock,\n    fn: reTiming,\n    state: state,\n    config: config,\n    from: from\n  })]);\n};\n\nexports.timing = timing;\n\nvar decay = function decay(params) {\n  var _clock$velocity$decel = _objectSpread({\n    clock: new Clock(),\n    velocity: new Value(0),\n    deceleration: 0.998,\n    from: 0\n  }, params),\n      clock = _clock$velocity$decel.clock,\n      from = _clock$velocity$decel.from,\n      velocity = _clock$velocity$decel.velocity,\n      deceleration = _clock$velocity$decel.deceleration;\n\n  var state = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    velocity: new Value(0)\n  };\n  var config = {\n    deceleration: deceleration\n  };\n  return block([cond(not(clockRunning(clock)), [set(state.velocity, velocity)]), animate({\n    clock: clock,\n    fn: reDecay,\n    state: state,\n    config: config,\n    from: from\n  })]);\n};\n\nexports.decay = decay;\n\nvar spring = function spring(params) {\n  var _clock$velocity$from$ = _objectSpread({\n    clock: new Clock(),\n    velocity: new Value(0),\n    from: 0\n  }, params),\n      clock = _clock$velocity$from$.clock,\n      from = _clock$velocity$from$.from,\n      velocity = _clock$velocity$from$.velocity,\n      springConfig = _clock$velocity$from$.config,\n      to = _clock$velocity$from$.to;\n\n  var state = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    velocity: new Value(0)\n  };\n\n  var config = _objectSpread(_objectSpread({}, defaultSpringConfig), {}, {\n    toValue: new Value(0)\n  }, springConfig);\n\n  return block([cond(not(clockRunning(clock)), [set(config.toValue, to), set(state.velocity, velocity)]), animate({\n    clock: clock,\n    fn: reSpring,\n    state: state,\n    config: config,\n    from: from\n  })]);\n};\n\nexports.spring = spring;\n\nvar delay = function delay(node, duration) {\n  var clock = new Clock();\n  return block([timing({\n    clock: clock,\n    from: 0,\n    to: 1,\n    duration: duration\n  }), cond(not(clockRunning(clock)), node)]);\n};\n\nexports.delay = delay;\n\nvar loop = function loop(loopConfig) {\n  var _clock$duration$boome = _objectSpread({\n    clock: new Clock(),\n    duration: 250,\n    boomerang: false,\n    autoStart: true,\n    easing: function easing(v) {\n      return (0, _reactNativeReanimated.add)(v, 0);\n    }\n  }, loopConfig),\n      clock = _clock$duration$boome.clock,\n      easing = _clock$duration$boome.easing,\n      duration = _clock$duration$boome.duration,\n      boomerang = _clock$duration$boome.boomerang,\n      autoStart = _clock$duration$boome.autoStart;\n\n  var state = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    frameTime: new Value(0)\n  };\n  var config = {\n    toValue: new Value(1),\n    duration: duration,\n    easing: easing\n  };\n  return block([cond(and(not(clockRunning(clock)), autoStart ? 1 : 0), startClock(clock)), reTiming(clock, state, config), cond(state.finished, [set(state.finished, 0), set(state.time, 0), set(state.frameTime, 0), boomerang ? set(config.toValue, cond(config.toValue, 0, 1)) : set(state.position, 0)]), state.position]);\n};\n\nexports.loop = loop;","map":{"version":3,"sources":["AnimationRunners.ts"],"names":["Clock","Value","block","cond","stopClock","set","startClock","clockRunning","not","and","timing","reTiming","decay","reDecay","spring","reSpring","SpringUtils","Animated","defaultSpringConfig","animate","fn","clock","state","config","from","easing","duration","to","add","finished","position","time","frameTime","toValue","velocity","deceleration","springConfig","delay","loop","boomerang","autoStart"],"mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAKEA,IAAAA,K,GAcEiB,+BAdFjB,KAAAA;AAAAA,IACAC,K,GAaEgB,+BAbFhB,KADAD;AAAAA,IAEAE,K,GAYEe,+BAZFf,KAFAF;AAAAA,IAGAG,I,GAWEc,+BAXFd,IAHAH;AAAAA,IAIAI,S,GAUEa,+BAVFb,SAJAJ;AAAAA,IAKAK,G,GASEY,+BATFZ,GALAL;AAAAA,IAMAM,U,GAQEW,+BARFX,UANAN;AAAAA,IAOAO,Y,GAOEU,+BAPFV,YAPAP;AAAAA,IAQAQ,G,GAMES,+BANFT,GARAR;AAAAA,IASAS,G,GAKEQ,+BALFR,GATAT;AAAAA,IAUQW,Q,GAINM,+BAJFP,MAVAV;AAAAA,IAWOa,O,GAGLI,+BAHFL,KAXAZ;AAAAA,IAYQe,Q,GAENE,+BAFFH,MAZAd;AAAAA,IAaAgB,W,GACEC,+BADFD,WAbAhB;AAgBF,IAAMkB,mBAAmB,GAAGF,WAAW,CAAvC,iBAA4BA,EAA5B;;AA+BA,IAAMG,OAAO,GAAPA,SAAAA,OAAAA,CAAU,IAAVA,EAAU;AAAA,MACdC,EADc,GAAA,IAAA,CAAA,EAAA;AAAA,MAEdC,KAFc,GAAA,IAAA,CAAA,KAAA;AAAA,MAGdC,KAHc,GAAA,IAAA,CAAA,KAAA;AAAA,MAIdC,MAJc,GAAA,IAAA,CAAA,MAAA;AAAA,MAKdC,IALc,GAAA,IAAA,CAAA,IAAA;AAAA,SAOdtB,KAAK,CAAC,CACJC,IAAI,CAACK,GAAG,CAACD,YAAY,CAAjB,KAAiB,CAAb,CAAJ,EAA2B,CAC7BF,GAAG,CAACiB,KAAK,CAAN,QAAA,EAD0B,CAC1B,CAD0B,EAE7BjB,GAAG,CAACiB,KAAK,CAAN,IAAA,EAF0B,CAE1B,CAF0B,EAG7BjB,GAAG,CAACiB,KAAK,CAAN,QAAA,EAH0B,IAG1B,CAH0B,EAI7BhB,UAAU,CALR,KAKQ,CAJmB,CAA3B,CADA,EAOJc,EAAE,CAAA,KAAA,EAAA,KAAA,EAPE,MAOF,CAPE,EAQJjB,IAAI,CAACmB,KAAK,CAAN,QAAA,EAAiBlB,SAAS,CAR1B,KAQ0B,CAA1B,CARA,EASJkB,KAAK,CAhBO,QAOR,CAAD,CAPS;AAAhB,CAAA;;AA2BO,IAAMZ,MAAM,GAANA,SAAAA,MAAAA,CAAS,MAATA,EAAmC;AAAA,MAAA,qBAAA,GAAA,aAAA,CAAA;AAE5CW,IAAAA,KAAK,EAAE,IAFqC,KAErC,EAFqC;AAG5CK,IAAAA,QAAQ,EAHoC,GAAA;AAI5CF,IAAAA,IAAI,EAJwC,CAAA;AAK5CG,IAAAA,EAAE,EAL0C,CAAA;AAM5CF,IAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,CAAA,EAAA;AAAA,aAAmCG,gCAAG,CAAHA,EAAnC,CAAmCA,CAAnC;AANoC;AAAA,GAAA,EAAA,MAAA,CAAA;AAAA,MACtCP,KADsC,GAAA,qBAAA,CAAA,KAAA;AAAA,MAC/BI,MAD+B,GAAA,qBAAA,CAAA,MAAA;AAAA,MACvBC,QADuB,GAAA,qBAAA,CAAA,QAAA;AAAA,MACbF,IADa,GAAA,qBAAA,CAAA,IAAA;AAAA,MACPG,EADO,GAAA,qBAAA,CAAA,EAAA;;AAU9C,MAAML,KAA2B,GAAG;AAClCO,IAAAA,QAAQ,EAAE,IAAA,KAAA,CADwB,CACxB,CADwB;AAElCC,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAFwB,CAExB,CAFwB;AAGlCC,IAAAA,IAAI,EAAE,IAAA,KAAA,CAH4B,CAG5B,CAH4B;AAIlCC,IAAAA,SAAS,EAAE,IAAA,KAAA,CAJb,CAIa;AAJuB,GAApC;AAOA,MAAMT,MAAM,GAAG;AACbU,IAAAA,OAAO,EAAE,IAAA,KAAA,CADI,CACJ,CADI;AAEbP,IAAAA,QAAQ,EAFK,QAAA;AAGbD,IAAAA,MAAM,EAHR;AAAe,GAAf;AAMA,SAAOvB,KAAK,CAAC,CACXC,IAAI,CAACK,GAAG,CAACD,YAAY,CAAjB,KAAiB,CAAb,CAAJ,EAA2B,CAC7BF,GAAG,CAACkB,MAAM,CAAP,OAAA,EAD0B,EAC1B,CAD0B,EAE7BlB,GAAG,CAACiB,KAAK,CAAN,SAAA,EAHM,CAGN,CAF0B,CAA3B,CADO,EAKXH,OAAO,CAAkB;AACvBE,IAAAA,KAAK,EADkB,KAAA;AAEvBD,IAAAA,EAAE,EAFqB,QAAA;AAGvBE,IAAAA,KAAK,EAHkB,KAAA;AAIvBC,IAAAA,MAAM,EAJiB,MAAA;AAKvBC,IAAAA,IAAI,EAVR;AAK2B,GAAlB,CALI,CAAD,CAAZ;AAvBK,CAAA;;;;AA6CA,IAAMZ,KAAK,GAALA,SAAAA,KAAAA,CAAQ,MAARA,EAAiC;AAAA,MAAA,qBAAA,GAAA,aAAA,CAAA;AAE1CS,IAAAA,KAAK,EAAE,IAFmC,KAEnC,EAFmC;AAG1Ca,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAHgC,CAGhC,CAHgC;AAI1CC,IAAAA,YAAY,EAJ8B,KAAA;AAK1CX,IAAAA,IAAI,EALsC;AAAA,GAAA,EAAA,MAAA,CAAA;AAAA,MACpCH,KADoC,GAAA,qBAAA,CAAA,KAAA;AAAA,MAC7BG,IAD6B,GAAA,qBAAA,CAAA,IAAA;AAAA,MACvBU,QADuB,GAAA,qBAAA,CAAA,QAAA;AAAA,MACbC,YADa,GAAA,qBAAA,CAAA,YAAA;;AAS5C,MAAMb,KAA0B,GAAG;AACjCO,IAAAA,QAAQ,EAAE,IAAA,KAAA,CADuB,CACvB,CADuB;AAEjCC,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAFuB,CAEvB,CAFuB;AAGjCC,IAAAA,IAAI,EAAE,IAAA,KAAA,CAH2B,CAG3B,CAH2B;AAIjCG,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAJZ,CAIY;AAJuB,GAAnC;AAOA,MAAMX,MAA4B,GAAG;AACnCY,IAAAA,YAAY,EADd;AAAqC,GAArC;AAIA,SAAOjC,KAAK,CAAC,CACXC,IAAI,CAACK,GAAG,CAACD,YAAY,CAAjB,KAAiB,CAAb,CAAJ,EAA2B,CAACF,GAAG,CAACiB,KAAK,CAAN,QAAA,EADxB,QACwB,CAAJ,CAA3B,CADO,EAEXH,OAAO,CAAiB;AACtBE,IAAAA,KAAK,EADiB,KAAA;AAEtBD,IAAAA,EAAE,EAFoB,OAAA;AAGtBE,IAAAA,KAAK,EAHiB,KAAA;AAItBC,IAAAA,MAAM,EAJgB,MAAA;AAKtBC,IAAAA,IAAI,EAPR;AAE0B,GAAjB,CAFI,CAAD,CAAZ;AApBK,CAAA;;;;AAwCA,IAAMV,MAAM,GAANA,SAAAA,MAAAA,CAAS,MAATA,EAAmC;AAAA,MAAA,qBAAA,GAAA,aAAA,CAAA;AAE5CO,IAAAA,KAAK,EAAE,IAFqC,KAErC,EAFqC;AAG5Ca,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAHkC,CAGlC,CAHkC;AAI5CV,IAAAA,IAAI,EAJwC;AAAA,GAAA,EAAA,MAAA,CAAA;AAAA,MACtCH,KADsC,GAAA,qBAAA,CAAA,KAAA;AAAA,MAC/BG,IAD+B,GAAA,qBAAA,CAAA,IAAA;AAAA,MACzBU,QADyB,GAAA,qBAAA,CAAA,QAAA;AAAA,MACPE,YADO,GAAA,qBAAA,CAAA,MAAA;AAAA,MACOT,EADP,GAAA,qBAAA,CAAA,EAAA;;AAQ9C,MAAML,KAA2B,GAAG;AAClCO,IAAAA,QAAQ,EAAE,IAAA,KAAA,CADwB,CACxB,CADwB;AAElCC,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAFwB,CAExB,CAFwB;AAGlCC,IAAAA,IAAI,EAAE,IAAA,KAAA,CAH4B,CAG5B,CAH4B;AAIlCG,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAJZ,CAIY;AAJwB,GAApC;;AAOA,MAAMX,MAAM,GAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,mBAAA,CAAA,EAAA,EAAA,EAAA;AAEVU,IAAAA,OAAO,EAAE,IAAA,KAAA,CAFC,CAED;AAFC,GAAA,EAAZ,YAAY,CAAZ;;AAMA,SAAO/B,KAAK,CAAC,CACXC,IAAI,CAACK,GAAG,CAACD,YAAY,CAAjB,KAAiB,CAAb,CAAJ,EAA2B,CAC7BF,GAAG,CAACkB,MAAM,CAAP,OAAA,EAD0B,EAC1B,CAD0B,EAE7BlB,GAAG,CAACiB,KAAK,CAAN,QAAA,EAHM,QAGN,CAF0B,CAA3B,CADO,EAKXH,OAAO,CAAkB;AACvBE,IAAAA,KAAK,EADkB,KAAA;AAEvBD,IAAAA,EAAE,EAFqB,QAAA;AAGvBE,IAAAA,KAAK,EAHkB,KAAA;AAIvBC,IAAAA,MAAM,EAJiB,MAAA;AAKvBC,IAAAA,IAAI,EAVR;AAK2B,GAAlB,CALI,CAAD,CAAZ;AArBK,CAAA;;;;AAoCA,IAAMa,KAAK,GAALA,SAAAA,KAAAA,CAAQ,IAARA,EAAQ,QAARA,EAA2D;AACtE,MAAMhB,KAAK,GAAG,IAAd,KAAc,EAAd;AACA,SAAOnB,KAAK,CAAC,CACXQ,MAAM,CAAC;AAAEW,IAAAA,KAAK,EAAP,KAAA;AAASG,IAAAA,IAAI,EAAb,CAAA;AAAkBG,IAAAA,EAAE,EAApB,CAAA;AAAyBD,IAAAA,QAAQ,EAD7B;AACJ,GAAD,CADK,EAEXvB,IAAI,CAACK,GAAG,CAACD,YAAY,CAAjB,KAAiB,CAAb,CAAJ,EAFN,IAEM,CAFO,CAAD,CAAZ;AAFK,CAAA;;;;AAgBA,IAAM+B,IAAI,GAAJA,SAAAA,IAAAA,CAAO,UAAPA,EAAkC;AAAA,MAAA,qBAAA,GAAA,aAAA,CAAA;AAE3CjB,IAAAA,KAAK,EAAE,IAFoC,KAEpC,EAFoC;AAG3CK,IAAAA,QAAQ,EAHmC,GAAA;AAI3Ca,IAAAA,SAAS,EAJkC,KAAA;AAK3CC,IAAAA,SAAS,EALkC,IAAA;AAM3Cf,IAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,CAAA,EAAA;AAAA,aAAmCG,gCAAG,CAAHA,EAAnC,CAAmCA,CAAnC;AANmC;AAAA,GAAA,EAAA,UAAA,CAAA;AAAA,MACrCP,KADqC,GAAA,qBAAA,CAAA,KAAA;AAAA,MAC9BI,MAD8B,GAAA,qBAAA,CAAA,MAAA;AAAA,MACtBC,QADsB,GAAA,qBAAA,CAAA,QAAA;AAAA,MACZa,SADY,GAAA,qBAAA,CAAA,SAAA;AAAA,MACDC,SADC,GAAA,qBAAA,CAAA,SAAA;;AAS7C,MAAMlB,KAAK,GAAG;AACZO,IAAAA,QAAQ,EAAE,IAAA,KAAA,CADE,CACF,CADE;AAEZC,IAAAA,QAAQ,EAAE,IAAA,KAAA,CAFE,CAEF,CAFE;AAGZC,IAAAA,IAAI,EAAE,IAAA,KAAA,CAHM,CAGN,CAHM;AAIZC,IAAAA,SAAS,EAAE,IAAA,KAAA,CAJb,CAIa;AAJC,GAAd;AAMA,MAAMT,MAAM,GAAG;AACbU,IAAAA,OAAO,EAAE,IAAA,KAAA,CADI,CACJ,CADI;AAEbP,IAAAA,QAAQ,EAFK,QAAA;AAGbD,IAAAA,MAAM,EAHR;AAAe,GAAf;AAMA,SAAOvB,KAAK,CAAC,CACXC,IAAI,CAACM,GAAG,CAACD,GAAG,CAACD,YAAY,CAAjB,KAAiB,CAAb,CAAJ,EAA2BiC,SAAS,GAAA,CAAA,GAAxC,CAAI,CAAJ,EAAmDlC,UAAU,CADtD,KACsD,CAA7D,CADO,EAEXK,QAAQ,CAAA,KAAA,EAAA,KAAA,EAFG,MAEH,CAFG,EAGXR,IAAI,CAACmB,KAAK,CAAN,QAAA,EAAiB,CACnBjB,GAAG,CAACiB,KAAK,CAAN,QAAA,EADgB,CAChB,CADgB,EAEnBjB,GAAG,CAACiB,KAAK,CAAN,IAAA,EAFgB,CAEhB,CAFgB,EAGnBjB,GAAG,CAACiB,KAAK,CAAN,SAAA,EAHgB,CAGhB,CAHgB,EAInBiB,SAAS,GACLlC,GAAG,CAACkB,MAAM,CAAP,OAAA,EAAiBpB,IAAI,CAACoB,MAAM,CAAP,OAAA,EAAA,CAAA,EADnB,CACmB,CAArB,CADE,GAELlB,GAAG,CAACiB,KAAK,CAAN,QAAA,EATE,CASF,CANY,CAAjB,CAHO,EAWXA,KAAK,CAXP,QAAa,CAAD,CAAZ;AArBK,CAAA","sourcesContent":["import Animated, { add } from \"react-native-reanimated\";\n\nimport { SpringConfig } from \"./Animations\";\n\nconst {\n  Clock,\n  Value,\n  block,\n  cond,\n  stopClock,\n  set,\n  startClock,\n  clockRunning,\n  not,\n  and,\n  timing: reTiming,\n  decay: reDecay,\n  spring: reSpring,\n  SpringUtils,\n} = Animated;\n\nconst defaultSpringConfig = SpringUtils.makeDefaultConfig();\n\ninterface AnimateParams<S, C> {\n  clock: Animated.Clock;\n  fn: (\n    clock: Animated.Clock,\n    state: S,\n    config: C\n  ) => Animated.Adaptable<number>;\n  state: S;\n  config: C;\n  from: Animated.Adaptable<number>;\n}\n\ninterface TimingAnimation {\n  state: Animated.TimingState;\n  config: Animated.TimingConfig;\n}\n\ninterface SpringAnimation {\n  state: Animated.SpringState;\n  config: Animated.SpringConfig;\n}\n\ninterface DecayAnimation {\n  state: Animated.DecayState;\n  config: Animated.DecayConfig;\n}\n\ntype Animation = SpringAnimation | DecayAnimation | TimingAnimation;\n\nconst animate = <T extends Animation>({\n  fn,\n  clock,\n  state,\n  config,\n  from,\n}: AnimateParams<T[\"state\"], T[\"config\"]>) =>\n  block([\n    cond(not(clockRunning(clock)), [\n      set(state.finished, 0),\n      set(state.time, 0),\n      set(state.position, from),\n      startClock(clock),\n    ]),\n    fn(clock, state, config),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ]);\n\nexport interface TimingParams {\n  clock?: Animated.Clock;\n  from?: Animated.Adaptable<number>;\n  to?: Animated.Adaptable<number>;\n  duration?: Animated.Adaptable<number>;\n  easing?: (v: Animated.Adaptable<number>) => Animated.Node<number>;\n}\n\nexport const timing = (params: TimingParams) => {\n  const { clock, easing, duration, from, to } = {\n    clock: new Clock(),\n    duration: 250,\n    from: 0,\n    to: 1,\n    easing: (v: Animated.Adaptable<number>) => add(v, 0),\n    ...params,\n  };\n\n  const state: Animated.TimingState = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    frameTime: new Value(0),\n  };\n\n  const config = {\n    toValue: new Value(0),\n    duration,\n    easing,\n  };\n\n  return block([\n    cond(not(clockRunning(clock)), [\n      set(config.toValue, to),\n      set(state.frameTime, 0),\n    ]),\n    animate<TimingAnimation>({\n      clock,\n      fn: reTiming,\n      state,\n      config,\n      from,\n    }),\n  ]);\n};\n\nexport interface DecayParams {\n  clock?: Animated.Clock;\n  from?: Animated.Adaptable<number>;\n  velocity?: Animated.Adaptable<number>;\n  deceleration?: Animated.Adaptable<number>;\n}\n\nexport const decay = (params: DecayParams) => {\n  const { clock, from, velocity, deceleration } = {\n    clock: new Clock(),\n    velocity: new Value(0),\n    deceleration: 0.998,\n    from: 0,\n    ...params,\n  };\n\n  const state: Animated.DecayState = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    velocity: new Value(0),\n  };\n\n  const config: Animated.DecayConfig = {\n    deceleration,\n  };\n\n  return block([\n    cond(not(clockRunning(clock)), [set(state.velocity, velocity)]),\n    animate<DecayAnimation>({\n      clock,\n      fn: reDecay,\n      state,\n      config,\n      from,\n    }),\n  ] as ReadonlyArray<Animated.Node<number>>);\n};\n\nexport interface SpringParams {\n  clock?: Animated.Clock;\n  from?: Animated.Adaptable<number>;\n  to: Animated.Adaptable<number>;\n  velocity?: Animated.Adaptable<number>;\n  config?: SpringConfig;\n}\n\nexport const spring = (params: SpringParams) => {\n  const { clock, from, velocity, config: springConfig, to } = {\n    clock: new Clock(),\n    velocity: new Value(0),\n    from: 0,\n    ...params,\n  };\n\n  const state: Animated.SpringState = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    velocity: new Value(0),\n  };\n\n  const config = {\n    ...defaultSpringConfig,\n    toValue: new Value(0),\n    ...springConfig,\n  };\n\n  return block([\n    cond(not(clockRunning(clock)), [\n      set(config.toValue, to),\n      set(state.velocity, velocity),\n    ]),\n    animate<SpringAnimation>({\n      clock,\n      fn: reSpring,\n      state,\n      config,\n      from,\n    }),\n  ] as ReadonlyArray<Animated.Node<number>>);\n};\n\nexport const delay = (node: Animated.Node<number>, duration: number) => {\n  const clock = new Clock();\n  return block([\n    timing({ clock, from: 0, to: 1, duration }),\n    cond(not(clockRunning(clock)), node),\n  ]);\n};\n\nexport interface LoopProps {\n  clock?: Animated.Clock;\n  easing?: (v: Animated.Adaptable<number>) => Animated.Node<number>;\n  duration?: number;\n  boomerang?: boolean;\n  autoStart?: boolean;\n}\n\nexport const loop = (loopConfig: LoopProps) => {\n  const { clock, easing, duration, boomerang, autoStart } = {\n    clock: new Clock(),\n    duration: 250,\n    boomerang: false,\n    autoStart: true,\n    easing: (v: Animated.Adaptable<number>) => add(v, 0),\n    ...loopConfig,\n  };\n  const state = {\n    finished: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n    frameTime: new Value(0),\n  };\n  const config = {\n    toValue: new Value(1),\n    duration,\n    easing,\n  };\n\n  return block([\n    cond(and(not(clockRunning(clock)), autoStart ? 1 : 0), startClock(clock)),\n    reTiming(clock, state, config),\n    cond(state.finished, [\n      set(state.finished, 0),\n      set(state.time, 0),\n      set(state.frameTime, 0),\n      boomerang\n        ? set(config.toValue, cond(config.toValue, 0, 1))\n        : set(state.position, 0),\n    ]),\n    state.position,\n  ]);\n};\n"]},"metadata":{},"sourceType":"script"}