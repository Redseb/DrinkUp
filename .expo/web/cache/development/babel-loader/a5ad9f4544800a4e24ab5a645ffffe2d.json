{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _MutableValue = _interopRequireDefault(require(\"./MutableValue\"));\n\nvar Mapper = function () {\n  function Mapper(module, mapper) {\n    var _this = this;\n\n    var inputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var outputs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n    (0, _classCallCheck2.default)(this, Mapper);\n    this.dirty = true;\n    this.id = Mapper.MAPPER_ID++;\n    this.inputs = this.extractMutablesFromArray(inputs);\n    this.outputs = this.extractMutablesFromArray(outputs);\n    this.mapper = mapper;\n\n    var markDirty = function markDirty() {\n      _this.dirty = true;\n      module.maybeRequestRender();\n    };\n\n    this.inputs.forEach(function (input) {\n      input.addListener(markDirty);\n    });\n  }\n\n  (0, _createClass2.default)(Mapper, [{\n    key: \"execute\",\n    value: function execute() {\n      this.dirty = false;\n      this.mapper();\n    }\n  }, {\n    key: \"extractMutablesFromArray\",\n    value: function extractMutablesFromArray(array) {\n      var res = [];\n\n      function extractMutables(value) {\n        if (value instanceof _MutableValue.default) {\n          res.push(value);\n        } else if (Array.isArray(value)) {\n          value.forEach(function (v) {\n            return extractMutables(v);\n          });\n        } else if (typeof value === 'object') {\n          Object.keys(value).forEach(function (key) {\n            extractMutables(value[key]);\n          });\n        }\n      }\n\n      extractMutables(array);\n      return res;\n    }\n  }]);\n  return Mapper;\n}();\n\nexports.default = Mapper;\nMapper.MAPPER_ID = 1;","map":{"version":3,"sources":["D:/Programming/React Native/drinkUp/node_modules/react-native-reanimated/src/reanimated2/js-reanimated/Mapper.js"],"names":["Mapper","module","mapper","inputs","outputs","dirty","id","MAPPER_ID","extractMutablesFromArray","markDirty","maybeRequestRender","forEach","input","addListener","array","res","extractMutables","value","MutableValue","push","Array","isArray","v","Object","keys","key"],"mappings":";;;;;;;;;;;AAAA;;IAEqBA,M;AAKnB,kBAAYC,MAAZ,EAAoBC,MAApB,EAAuD;AAAA;;AAAA,QAA3BC,MAA2B,uEAAlB,EAAkB;AAAA,QAAdC,OAAc,uEAAJ,EAAI;AAAA;AAAA,SAFvDC,KAEuD,GAF/C,IAE+C;AACrD,SAAKC,EAAL,GAAUN,MAAM,CAACO,SAAP,EAAV;AACA,SAAKJ,MAAL,GAAc,KAAKK,wBAAL,CAA8BL,MAA9B,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKI,wBAAL,CAA8BJ,OAA9B,CAAf;AACA,SAAKF,MAAL,GAAcA,MAAd;;AAEA,QAAMO,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,MAAA,KAAI,CAACJ,KAAL,GAAa,IAAb;AACAJ,MAAAA,MAAM,CAACS,kBAAP;AACD,KAHD;;AAKA,SAAKP,MAAL,CAAYQ,OAAZ,CAAoB,UAACC,KAAD,EAAW;AAC7BA,MAAAA,KAAK,CAACC,WAAN,CAAkBJ,SAAlB;AACD,KAFD;AAGD;;;;8BAES;AACR,WAAKJ,KAAL,GAAa,KAAb;AACA,WAAKH,MAAL;AACD;;;6CAEwBY,K,EAAO;AAC9B,UAAMC,GAAG,GAAG,EAAZ;;AAEA,eAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,YAAIA,KAAK,YAAYC,qBAArB,EAAmC;AACjCH,UAAAA,GAAG,CAACI,IAAJ,CAASF,KAAT;AACD,SAFD,MAEO,IAAIG,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B;AAC/BA,UAAAA,KAAK,CAACN,OAAN,CAAc,UAACW,CAAD;AAAA,mBAAON,eAAe,CAACM,CAAD,CAAtB;AAAA,WAAd;AACD,SAFM,MAEA,IAAI,OAAOL,KAAP,KAAiB,QAArB,EAA+B;AACpCM,UAAAA,MAAM,CAACC,IAAP,CAAYP,KAAZ,EAAmBN,OAAnB,CAA2B,UAACc,GAAD,EAAS;AAClCT,YAAAA,eAAe,CAACC,KAAK,CAACQ,GAAD,CAAN,CAAf;AACD,WAFD;AAGD;AACF;;AAEDT,MAAAA,eAAe,CAACF,KAAD,CAAf;AACA,aAAOC,GAAP;AACD;;;;;;AA3CkBf,M,CACZO,S,GAAY,C","sourcesContent":["import MutableValue from './MutableValue';\n\nexport default class Mapper {\n  static MAPPER_ID = 1;\n\n  dirty = true;\n\n  constructor(module, mapper, inputs = [], outputs = []) {\n    this.id = Mapper.MAPPER_ID++;\n    this.inputs = this.extractMutablesFromArray(inputs);\n    this.outputs = this.extractMutablesFromArray(outputs);\n    this.mapper = mapper;\n\n    const markDirty = () => {\n      this.dirty = true;\n      module.maybeRequestRender();\n    };\n\n    this.inputs.forEach((input) => {\n      input.addListener(markDirty);\n    });\n  }\n\n  execute() {\n    this.dirty = false;\n    this.mapper();\n  }\n\n  extractMutablesFromArray(array) {\n    const res = [];\n\n    function extractMutables(value) {\n      if (value instanceof MutableValue) {\n        res.push(value);\n      } else if (Array.isArray(value)) {\n        value.forEach((v) => extractMutables(v));\n      } else if (typeof value === 'object') {\n        Object.keys(value).forEach((key) => {\n          extractMutables(value[key]);\n        });\n      }\n    }\n\n    extractMutables(array);\n    return res;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}